<!-- <mat-card class="main-card">
    <form [formGroup]="service.form" class="normal-form" (submit)="onSubmit()">
        <div class="medium-list">
            <div class="form-container">
              <input type="hidden" formControlName="$key">
              <mat-form-field appearance="outline">
                <mat-label>Username*</mat-label>
                <input formControlName="username" matInput placeholder="Username*">
                <mat-error>This field is mandatory.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                  <mat-label>Full Name*</mat-label>
                <input formControlName="firstName" matInput placeholder="Full Name*">
                <mat-error>This field is mandatory.</mat-error>
              </mat-form-field>
              <mat-form-field appearance="outline">
                  <mat-label>My Share</mat-label>
                <input formControlName="myShare" matInput placeholder="My Share">
                <mat-error>This field is mandatory.</mat-error>
                <mat-hint class="hint"><b>Note:</b>Max Agent Share + My Share should be set below or equal to <b>80.0</b></mat-hint>
              </mat-form-field>
              <mat-form-field appearance="outline">
                  <mat-label>Maximum Agent Share</mat-label>
                <input formControlName="maxshare" matInput placeholder="Maximum Agent Share">
                <mat-error>This field is mandatory.</mat-error>
                <mat-hint class="hint"><b>Note:</b>Max Agent Share + My Share should be set below or equal to <b>80.0</b></mat-hint>
              </mat-form-field>
              <mat-form-field appearance="outline">
                  <mat-label>Fixed Limit</mat-label>
                <input formControlName="fixlimit" matInput placeholder="Fixed Limit">
                <mat-error>This field is mandatory.</mat-error>
                <mat-hint class="hint"><b>Note :</b>Agent Initial Balance set below or equal to <b>43803.54</b></mat-hint>
              </mat-form-field>
              <mat-form-field appearance="outline">
                  <mat-label>Match Commisson</mat-label>
                <input formControlName="MCommission" matInput placeholder="Match Commisson">
                <mat-error>This field is mandatory.</mat-error>
                <mat-hint class="hint"><b>Note :</b>Agent Match Commission set below or equal to <b>2.0</b></mat-hint>
              </mat-form-field>
              <mat-form-field appearance="outline">
                  <mat-label>Session Commission</mat-label>
                <input formControlName="sessioncommission" matInput placeholder="Session Commission">
                <mat-error>This field is mandatory.</mat-error>
                <mat-hint class="hint"><b>Note :</b>Agent Session Commission set below or equal to <b>2.0</b></mat-hint>
              </mat-form-field>
              <mat-form-field appearance="outline">
                  <mat-label>Password*</mat-label>
                    <input formControlName="password" matInput placeholder="Password*" [type]="hide ? 'password' : 'text'">
                    <mat-error *ngIf="service.form.controls['password'].errors?.required">This field is mandatory.</mat-error>
                    <mat-error *ngIf="service.form.controls['password'].errors?.minlength">Minimum 5 characters needed.</mat-error>
                    <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                    <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
              </mat-form-field>
              <mat-form-field appearance="outline">
                  <mat-label>Confirm Password*</mat-label>
                    <input formControlName="confirmpassword" matInput placeholder="Confirm Password*" [type]="confirmhide ? 'password' : 'text'">
                    <mat-error *ngIf="service.form.controls['confirmpassword'].errors?.required">This field is mandatory.</mat-error>
                    <mat-error *ngIf="service.form.controls['confirmpassword'].errors?.minlength">Minimum 5 characters needed.</mat-error>
                    <button mat-icon-button matSuffix (click)="confirmhide = !confirmhide" [attr.aria-label]="'ConfirmHide password'" [attr.aria-pressed]="confirmhide">
                    <mat-icon>{{confirmhide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
              </mat-form-field>
              <div class="button-row">
                <button mat-raised-button color="primary" type="submit" [disabled]="service.form.invalid">Submit</button>
                <button mat-raised-button color="warn" (click)="onClear()">Clear</button>
              </div>
            </div>
        </div>
      </form>
</mat-card> -->

<div class="wrapper wrapper-content animated fadeInRight">
  <div class="row">
    <div class="col-lg-12">
      <div class="ibox float-e-margins">
        <div class="ibox-title">
          <h5>New Admin</h5>
        </div>

        <div class="ibox-content-form table-responsive">
          <form
            [formGroup]="Companyform"
            (ngSubmit)="onSubmit()"
            *ngIf="Companyform"
            class="form-horizontal"
          >
            <div class="form-group">
              <label class="col-sm-2 control-label">User Name</label>
              <div class="col-sm-10">
                <input
                  class="form-control"
                  formControlName="username"
                  name="user_name"
                  placeholder="User Name"
                  type="text"
                  (keyup)="ValidateUsername()"
                  onkeypress="return ((event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || event.charCode == 8 || event.charCode == 32 || (event.charCode >= 48 && event.charCode <= 57))"
                  [ngClass]="{
                    'is-invalid': submitted && f.username.errors,
                    'is-invalid': f.username.valid
                  }"
                />
                <div
                  *ngIf="submitted && f.username.errors"
                  class="invalid-feedback"
                >
                  <mat-error *ngIf="f.username.errors.required"
                    >This field is mandatory.</mat-error
                  >
                </div>
                <div *ngIf="f.username.valid" class="invalid-feedback">
                  <mat-error *ngIf="isUsernameAvail" style="color: green"
                    >Username available.</mat-error
                  >
                  <mat-error *ngIf="!isUsernameAvail"
                    >Username Already Exits.</mat-error
                  >
                </div>
              </div>
            </div>

            <div class="hr-line-dashed"></div>

            <div class="form-group">
              <label class="col-sm-2 control-label">Full Name</label>
              <div class="col-sm-10">
                <input
                  formControlName="firstName"
                  appInputRestriction="noSpecialChars"
                  class="form-control"
                  name="firstName"
                  [ngClass]="{ 'is-invalid': submitted && f.firstName.errors }"
                  placeholder="Full Name"
                  type="text"
                />

                <div
                  *ngIf="submitted && f.firstName.errors"
                  class="invalid-feedback"
                >
                  <mat-error *ngIf="f.firstName.errors.required"
                    >This field is mandatory.</mat-error
                  >
                </div>
              </div>
            </div>
            <div class="hr-line-dashed"></div>

            <div class="form-group">
              <label class="col-sm-2 control-label">My Share</label>
              <div class="col-sm-10">
                <input
                  formControlName="myShare"
                  onkeypress="return event.charCode >= 48"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f.myShare.errors }"
                  max="100"
                  min="0"
                  name="agent_share"
                  placeholder="My Share"
                  type="number"
                />
                <div
                  *ngIf="submitted && f.myShare.errors"
                  class="invalid-feedback"
                >
                  <mat-error *ngIf="f.myShare.errors.required"
                    >This field is mandatory.</mat-error
                  >
                </div>
                <mat-hint class="hint"
                  ><b>Note:</b> Max Company Share + My Share + Downline Share
                  should be set equal to
                  <b>{{ accountInfo.maxMyShare }}</b></mat-hint
                >
              </div>
            </div>

            <div class="hr-line-dashed"></div>

            <div class="form-group">
              <label class="col-sm-2 control-label">Max Downline Share</label>
              <div class="col-sm-10">
                <input
                  formControlName="CompanyShare"
                  onkeypress="return event.charCode >= 48"
                  class="form-control"
                  [ngClass]="{
                    'is-invalid': submitted && f.CompanyShare.errors
                  }"
                  max="100"
                  min="0"
                  name="maximum_share"
                  placeholder="Downline Share"
                  type="number"
                />
                <div
                  *ngIf="submitted && f.CompanyShare.errors"
                  class="invalid-feedback"
                >
                  <mat-error *ngIf="f.CompanyShare.errors.required"
                    >This field is mandatory.</mat-error
                  >
                </div>
                <!-- <mat-hint class="hint">
                  <b>Note:</b>Max Agent Share + My Share should be set below or equal to
                  <b>{{accountInfo.minCompanyShare}}</b></mat-hint> -->
              </div>
            </div>

            <!-- <div class="hr-line-dashed"></div>

            <div class="form-group">
              <label class="col-sm-2 control-label"
                >Agent Initial Balance</label
              >
              <div class="col-sm-10">
                <input
                  formControlName="fixLimit"
                  onkeypress="return event.charCode >= 48"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f.fixLimit.errors }"
                  min="0"
                  name="fix_limit"
                  placeholder="Agent Initial Balance"
                  type="number"
                  value="0.0"
                />
                <div
                  *ngIf="submitted && f.fixLimit.errors"
                  class="invalid-feedback"
                >
                  <mat-error *ngIf="f.fixLimit.errors.required"
                    >This field is mandatory.</mat-error
                  >
                </div>
                <mat-hint class="hint"
                  ><b>Note</b> : Agent Initial Balance set below or equal to
                  <b>{{
                    accountInfo.remainingLimit - totalremaininglimit
                      | number: "1.2"
                  }}</b></mat-hint
                >
              </div>
            </div> -->
            <div class="hr-line-dashed"></div>
            <div class="form-group">
              <label class="col-sm-2 control-label">Agent Exposure Limit</label>
              <div class="col-sm-10">
                <input
                  formControlName="expoLimit"
                  onkeypress="return event.charCode >= 48"
                  class="form-control"
                  [ngClass]="{
                    'is-invalid': submitted && f.expoLimit.errors
                  }"
                  min="0"
                  name="exposure_limit"
                  placeholder="Agent Exposure Limit"
                  type="number"
                  value="0.0"
                />
                <div
                  *ngIf="submitted && f.expoLimit.errors"
                  class="invalid-feedback"
                >
                  <mat-error *ngIf="f.expoLimit.errors.required"
                    >This field is mandatory.</mat-error
                  >
                </div>
              </div>
            </div>

            <div class="hr-line-dashed"></div>
            <div class="form-group">
              <label class="col-sm-2 control-label"
                >Agent Match Fixed Fees</label
              >
              <div class="col-sm-10">
                <input
                  formControlName="fixedfees"
                  onkeypress="return event.charCode >= 48"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f.fixedfees.errors }"
                  max="100"
                  min="0"
                  name="match_commission"
                  placeholder="Agent Match Fixed Fees"
                  type="number"
                />
                <div
                  *ngIf="submitted && f.fixedfees.errors"
                  class="invalid-feedback"
                >
                  <mat-error *ngIf="f.fixedfees.errors.required"
                    >This field is mandatory.</mat-error
                  >
                </div>
                <!-- <mat-hint class="hint"><b>Note</b> : Agent Match Fixed Fees set below or equal to <b>{{accountInfo.matchComm}}</b>
                </mat-hint> -->
              </div>
            </div>

            <div class="hr-line-dashed"></div>
            <div class="form-group">
              <label class="col-sm-2 control-label"
                >Agent Match Commission</label
              >
              <div class="col-sm-10">
                <input
                  formControlName="MComm"
                  onkeypress="return event.charCode >= 48"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f.MComm.errors }"
                  max="100"
                  min="0"
                  name="match_commission"
                  placeholder="Agent Match Commission"
                  type="number"
                />
                <div
                  *ngIf="submitted && f.MComm.errors"
                  class="invalid-feedback"
                >
                  <mat-error *ngIf="f.MComm.errors.required"
                    >This field is mandatory.</mat-error
                  >
                </div>
                <mat-hint class="hint" *ngIf="iscommissionedit"
                  ><b>Note</b> : Agent Match Commission set below or equal to
                  <b>{{ accountInfo.matchComm }}</b>
                </mat-hint>
              </div>
            </div>

            <div class="hr-line-dashed"></div>
            <div class="form-group">
              <label class="col-sm-2 control-label"
                >Agent Session Transaction Commission</label
              >
              <div class="col-sm-10">
                <input
                  formControlName="SComm"
                  onkeypress="return event.charCode >= 48"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f.SComm.errors }"
                  max="100"
                  min="0"
                  name="session_commission"
                  placeholder="Agent Transaction Commission"
                  type="number"
                />
                <div
                  *ngIf="submitted && f.SComm.errors"
                  class="invalid-feedback"
                >
                  <mat-error *ngIf="f.SComm.errors.required"
                    >This field is mandatory.</mat-error
                  >
                </div>
                <mat-hint class="hint" *ngIf="iscommissionedit"
                  ><b>Note</b> : Agent Session Transaction Commission set below
                  or equal to <b>{{ accountInfo.sessionComm }}</b>
                </mat-hint>
              </div>
            </div>

            <div class="hr-line-dashed"></div>
            <div class="form-group">
              <label class="col-sm-2 control-label"
                >Agent Match Losing Commission</label
              >
              <div class="col-sm-10">
                <input
                  formControlName="MloseComm"
                  onkeypress="return event.charCode >= 48"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f.MloseComm.errors }"
                  max="100"
                  min="0"
                  name="session_commission"
                  placeholder="Agent Match Losing Commission"
                  type="number"
                />
                <div
                  *ngIf="submitted && f.MloseComm.errors"
                  class="invalid-feedback"
                >
                  <mat-error *ngIf="f.MloseComm.errors.required"
                    >This field is mandatory.</mat-error
                  >
                </div>
                <mat-hint class="hint" *ngIf="iscommissionedit"
                  ><b>Note</b> : Agent Match Losing Commission set below or
                  equal to <b>{{ accountInfo.mLossingComm }}</b>
                </mat-hint>
              </div>
            </div>

            <div class="hr-line-dashed"></div>
            <div class="form-group">
              <label class="col-sm-2 control-label"
                >Agent Session Losing Commission</label
              >
              <div class="col-sm-10">
                <input
                  formControlName="SloseComm"
                  onkeypress="return event.charCode >= 48"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f.SloseComm.errors }"
                  max="100"
                  min="0"
                  name="session_commission"
                  placeholder="Agent Session Losing Commission"
                  type="number"
                />
                <div
                  *ngIf="submitted && f.SloseComm.errors"
                  class="invalid-feedback"
                >
                  <mat-error *ngIf="f.SloseComm.errors.required"
                    >This field is mandatory.</mat-error
                  >
                </div>
                <mat-hint class="hint" *ngIf="iscommissionedit"
                  ><b>Note</b> : Agent Session Losing Commission set below or
                  equal to <b>{{ accountInfo.sLossingComm }}</b>
                </mat-hint>
              </div>
            </div>

            <div class="hr-line-dashed"></div>
            <div class="form-group">
              <label class="col-sm-2 control-label">Password</label>
              <div class="col-sm-10">
                <input
                  formControlName="password"
                  specialIsAlphaNumeric
                  class="form-control"
                  autocomplete="on"
                  [ngClass]="{ 'is-invalid': submitted && f.password.errors }"
                  name="password"
                  placeholder="Password"
                  type="password"
                />
                <div
                  *ngIf="submitted && f.password.errors"
                  class="invalid-feedback"
                >
                  <mat-error *ngIf="f.password.errors.required"
                    >This field is mandatory.</mat-error
                  >
                  <mat-error *ngIf="f.password.errors.minlength"
                    >Password must be at least 6 characters</mat-error
                  >
                </div>
              </div>
            </div>

            <div class="hr-line-dashed"></div>
            <div class="form-group">
              <label class="col-sm-2 control-label">Confirm Password</label>
              <div class="col-sm-10">
                <input
                  formControlName="confirmPassword"
                  specialIsAlphaNumeric
                  autocomplete="on"
                  class="form-control"
                  [ngClass]="{
                    'is-invalid': submitted && f.confirmPassword.errors
                  }"
                  name="confirmpassword"
                  placeholder="Confirm Password"
                  type="password"
                />
                <div
                  *ngIf="submitted && f.confirmPassword.errors"
                  class="invalid-feedback"
                >
                  <mat-error *ngIf="f.confirmPassword.errors.required"
                    >This field is mandatory.</mat-error
                  >
                  <mat-error *ngIf="f.confirmPassword.errors.mustMatch"
                    >Passwords must match</mat-error
                  >
                </div>
              </div>
            </div>

            <div class="hr-line-dashed"></div>
            <div class="form-group">
              <label class="col-sm-2 control-label">Book Display Type</label>
              <div class="col-md-10 col-sm-3 mat-radio-top-margin">
                <mat-radio-group
                  formControlName="bookdisplaytype"
                  aria-label="Select an option"
                >
                  <mat-radio-button value="1">Sharing Wise</mat-radio-button>
                  <mat-radio-button value="2"
                    >All Hierarchy 100%</mat-radio-button
                  >
                </mat-radio-group>
              </div>
            </div>

            <!-- <div class="hr-line-dashed"></div> -->
            <!-- <div class="form-group">
              <label class="col-sm-2 control-label"></label>
              <div class="col-sm-10">
                <mat-checkbox formControlName="isMComm">Is Market Commission</mat-checkbox>
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-2 control-label"></label>
              <div class="col-sm-10">
                <mat-checkbox formControlName="isSComm">Is Session Commission</mat-checkbox>
              </div>
            </div> -->
            <div class="hr-line-dashed"></div>

            <div class="form-group col-sm-4 col-sm-offset-2 button-row">
              <button
                mat-raised-button
                color="warn"
                (click)="onCancel()"
                type="button"
              >
                Cancel
              </button>
              <button
                mat-raised-button
                color="primary"
                *ngIf="!userId"
                type="submit"
              >
                Save
              </button>
              <button
                mat-raised-button
                color="primary"
                *ngIf="userId"
                type="submit"
              >
                Update Changes
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
