<script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/4.4.0/bootbox.min.js"></script>
<style type="text/css">
   .ajax_loader{
   position:absolute;
   width:100%;
   height:100%;
   left:0;
   top:0;
   background:rgba(0,0,0,.5);
   }
   .ajax_loader.hidden{
   display: block;
   visibility: hidden;
   }
   .ajax_loader i{
   position:absolute;    
   left:50%;
   top:45%;
   color: white;
   font-size: 25px;
   }
   .loader_spinner{
   position: absolute; 
   left: 45%; 
   top: 50%; 
   font-size: 32px; 
   color: white;
   }
   
   .thcenter{
   text-align: center;
   }
   .project-tab #tabs{
   background: #007b5e;
   color: #eee;
   }
   .project-tab #tabs h6.section-title{
   color: #eee;
   }
   .project-tab #tabs .nav-tabs .nav-item.show .nav-link, .nav-tabs .nav-link.active {
   color: #0062cc;
   background-color: transparent;
   border-color: transparent transparent #f3f3f3;
   border-bottom: 3px solid !important;
   font-size: 16px;
   font-weight: bold;
   }
   .project-tab .nav-link {
   border: 1px solid transparent;
   border-top-left-radius: .25rem;
   border-top-right-radius: .25rem;
   color: #0062cc;
   font-size: 16px;
   font-weight: 600;
   }
   .project-tab .nav-link:hover {
   border: none;
   }
   .project-tab thead{
   background: #f3f3f3;
   color: #333;
   }
   .project-tab a{
   text-decoration: none;
   color: #333;
   font-weight: 600;
   }
</style>
<div id="tabs" class="project-tab">
   <div class="">
      <div class="row">
         <div class="col-md-12">
            <nav>
               <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist" style="cursor: pointer;">
                  <!-- <a class="nav-item nav-link" ng-class="{'active' : sitename.siteFilter == 'SATBET'}" id="nav-home-tab" data-toggle="tab" data-target="#tab1" role="tab" aria-controls="nav-home" ng-repeat="sitename in sitenamearr track by $index" ng-click="ApplicationTab(sitename.siteFilter)" aria-selected="true">{{sitename.siteName}}</a> -->
                  <!--  <a class="nav-item nav-link " data-toggle="tab" data-target="#tab1" role="tab" aria-controls="nav-contact" ng-click="ApplicationTab('SATBET')" aria-selected="false">SATBET</a>-->
                  
                  <a class="nav-item nav-link active" data-toggle="tab" data-target="#tab5" role="tab" aria-controls="nav-contact" ng-click="ApplicationTab('FUNSPORTS')" aria-selected="false">FUNSPORTS</a>
                  
               </div>
            </nav>
            <div class="tab-content" id="nav-tabContent">
               <div ng-cloak class="ajax_loader hidden" style="z-index: 10000000000;"><span class="loader_spinner">Please wait...</span> <i class="fa fa-spinner fa-spin"></i></div>
               
               
               <div class="tab-pane fade active show" role="tabpanel" aria-labelledby="nav-home-tab">
                  <table class="table" cellspacing="0">
                     <thead>
                        <tr>
                           <th class="thcenter">{{sitename}} FANCY SETTLEMENT&nbsp;&nbsp;<button ng-click="ApplicationTab(sitename)" type="button" title="Refresh" class="btn btn-outline-danger"><i class="fa fa-refresh fa-spin" style="font-size:12px"></i></button></th>
                        </tr>
                     </thead>
                  </table>
                  <div class="table-responsive">
                     <table ng-cloak ng-table="tableParams" show-filter="true" class="table table-striped table-bordered noWhiteSpace">
                        <tr class="text-center" ng-repeat="booklist in $data track by $index">
                           <td title="'Event Name'" filter="{ eventName: 'text'}" sortable="'eventName'">{{booklist.eventName}}</td>
                           <td title="'Book Name'" filter="{ headerName: 'text'}" sortable="'headerName'">{{booklist.headerName}}</td>
                           <td title="'Status'" filter="{ status: 'text'}" sortable="'status'">{{booklist.status}}</td>
                           <td title="'Active'">
                              <a ng-if="booklist.isActive==1" ng-click="UpdateBookStatus(booklist,0)" href="javascript:void(0);"><i class="fa fa-check-square-o fa-2x" style="color: green" aria-hidden="true" title="IsActive"></i></a>
                              <a ng-if="booklist.isActive==0" ng-click="UpdateBookStatus(booklist,1)"  href="javascript:void(0);"><i class="fa fa-window-close fa-2x" style="color: red" aria-hidden="true" title="Inactive"></i></a>
                           </td>
                           <!-- <td title="'Fancy Status All Sites'">
                              <button ng-if="booklist.isActive==0" ng-click="UpdFancyStatusAllSites(booklist,booklist.betName,1)" title="Update Fancy Status to Active" class="btn btn-success btn-sm">Update FS</button>
                              <button ng-if="booklist.isActive==1" ng-click="UpdFancyStatusAllSites(booklist,booklist.betName,0)" title="Update Fancy Status to DeActive" class="btn btn-danger btn-sm">Update FS</button>
                           </td> -->
                           <td title="'BetAllow'">
                              <a ng-if="booklist.isBetAllow==1" ng-click="UpdateBookBetStatus(booklist,0)" href="javascript:void(0);"><i class="fa fa-check-square-o fa-2x" style="color: green" aria-hidden="true" title="IsActive"></i></a>
                              <a ng-if="booklist.isBetAllow==0" ng-click="UpdateBookBetStatus(booklist,1)"  href="javascript:void(0);"><i class="fa fa-window-close fa-2x" style="color: red" aria-hidden="true" title="Inactive"></i></a>
                           </td>
                           <!-- <td title="'Bet Status All Sites'">
                              <button ng-if="booklist.isBetAllow==0" ng-click="UpdFancyBetStatusAllSites(booklist,booklist.betName,1)" title="Update Bet Status to Allow Bet" class="btn btn-success btn-sm">Update BS</button>
                              <button ng-if="booklist.isBetAllow==1" ng-click="UpdFancyBetStatusAllSites(booklist,booklist.betName,0)" title="Update Bet Status to DisAllow Bet" class="btn btn-danger btn-sm">Update BS</button>
                           </td> -->
                           <td title="'Settle'"> 
                                <div class="col-md-12 no-padding"  ng-if="booklist.bookType != 2">
                                  -
                                </div>
                               <div class="row" ng-if="booklist.bookType == 2">
                                   <div class="col-md-9 no-padding">
                                  
                                     <select data-chosen class="form-control"  id="Runners-{{booklist.bookCode}}">
                                        <option selected="selected" value="Select Runner">Select Runner</option>
                                        <option data-ng-repeat="item in booklist.runners" value="{{item.name}}">{{item.name}}</option>
                                    </select>
                                         
                                      
                                   </div>
                                   <div class="col-md-2 no-padding">
                                    <button class="btn btn-danger btn-xs" data-ng-disabled="pending_SttleBook" data-ng-click="SttleBookmaker(booklist.bookCode,booklist.matchId)">S</button>
                                   </div>
                                   <div class="col-md-1"></div>
                               </div>
                               
                            </td>
                        </tr>
                     </table>
                  </div>
               </div>
  
            </div>
         </div>
      </div>
   </div>
</div>
<div class="modal fade in ng-scope" id="settle-sessin-modal" role="dialog">
   <div class="modal-dialog">
      <div class="modal-content" style="margin-top: 100px;">
         <div class="modal-header">
            <h6 id="settle-session-title" class="modal-title ng-binding">{{fancyname}}</h6>
            <button type="button" class="close" data-dismiss="modal">Ã—</button>
         </div>
         <div class="modal-body">
            <div class="row" style="margin: 0">
               <div class="alert alert-success" style="padding: 0; margin: 0;border: 0;margin-bottom: 10px;"></div>
            </div>
            <div class="row">
               <div class="col-md-6">
                  <input type="hidden" ng-model="Fancycod" class="form-control"  name="fid">
                  <input type="hidden" ng-model="matchid" class="form-control"  name="mtid">
                  <input type="hidden" ng-model="appname" class="form-control"  name="application">
                  <input type="text" ng-model="settleRate" class="form-control" placeholder="Enter Settlement Score" name="settleRate">
                  <!-- <input type="hidden" ng-model="matchId" autocomplete="off" class="ng-pristine ng-untouched ng-valid ng-empty"> -->
                  <!-- <input type="hidden" ng-model="fancyId" autocomplete="off" class="ng-pristine ng-untouched ng-valid ng-empty"> -->
               </div>
               <div class="col-md-6">
                  <button class="btn btn-warning" ng-disabled="settlesessionbtn" ng-click="SettleFancy2(appname)" style="width: inherit;">Settle</button>
               </div>
            </div>
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
         </div>
      </div>
   </div>
</div>
